<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="bower_components/paper-toolbar/paper-toolbar.html">

<link rel="import" href="sidebar-element.html">

<dom-module id="chat-page" attributes="pathArg1">
  <style>
    paper-drawer-panel { 
      --paper-drawer-panel-main-container: { 
        background-color:#f5f5f5;
      };
    }
    .sidebar .content{
      border-right:1px solid #e0e0e0;
    }
    .sidebar .paper-header{
      height:192px;
      position: relative;
    }
    .sidebar .paper-header .image-container{
      position: absolute;
      top:0;
      bottom: 0;
      right:0;
      left: 0;
      overflow: hidden;
    }
    .sidebar .paper-header .background{
      position: absolute;
      top:-32px;
      bottom: -32px;
      left: 0;
      right: 0;
      width: 256px;
    }
    .sidebar .paper-header .title{
      position:absolute;
      left:16px;
      bottom:8px;
      font-weight: 700;
      width: 100%;
      z-index: 200;
      color:white;
    }
    .main paper-toolbar{
      --paper-toolbar-background: #1abc9c;
    }
    .main .content{
      padding: 20px;
      min-height: 2000px;
    }
  </style>
  <template>
    <paper-drawer-panel>
      <paper-header-panel drawer mode="waterfall-tall" class="sidebar">
        <div class="paper-header">
          <div class="image-container">
            <img class="background" src="{{profile.image}}"/>
          </div>
          <div title class="bottom title">{{profile.username}}</div>
        </div>
        <div class="content fit">
          <sidebar-element username="[[username]]"></sidebar-element>
        </div>
      </paper-header-panel>
      <paper-header-panel main mode="waterfall-tall"  class="main">
        <paper-toolbar>
          <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
          <div>Title</div>
        </paper-toolbar>
        <div class="content">{{username}}</div>
      </paper-header-panel>
    </paper-drawer-panel>
  </template>
</dom-module>

<script>
  // register a new element called sidebar-element
  Polymer({
    is: "chat-page",
    properties: {
      backgroundurl:{
        type:String,
        value: function(){
          return "background:url("+auth.profile.image+")"
        }
      },
      profile:{
        type: Object,
        value: function(){
          return auth.profile
        }
      }
    },
    ready: function() {

    }
  });
</script>